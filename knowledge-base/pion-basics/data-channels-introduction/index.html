<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Pion</title>

    <link rel="shortcut icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAC+lBMVEUAAADmOTblOTXmOjXlOjbmOjblOzXlOzbnOjbmOzbkOTTnOzjnOzfkODTnOTbvPjzpPDflOTbrQD/kODXsQDblODXmOzfmOjfWJiTiNzPmOTXfNjDvREHfMy7uQT7zRUToPjnlOjXcMy/iNjLnOjjgNTHqOzjeMzDpOjnlODPmPzroOzfjNzTjODTjODPjNTHpOzfsPzrmOjblOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXmOjblOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXmOzblOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOjblOTXlOTXmOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOjXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOjbmOTXlOTXlOTXmOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXmOTXlOTXlOTXlOTXlOTXlOTXlOTXmOjblOTXlOTXmOTblOjXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXmOjblOTXmOTblOTXlOTXlOTXmOTXnOzfmOjblOTXmOjblOTXlOTXlOjblOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXnOzflOTXmOjblOTXlOTXlOTXlOTXlOTXlOTXlOTXmOTbmOjXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXlOTXmOjblOTXlOTXlOTXmPDflOTX///+vM0BfAAAA/HRSTlMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEdW5zM5/TVKAcsG4TT+PlKWuXRgSYBEXTf/erI+k1i3XIPJ7D798BsLgr+TAlew60lM8vODlgQYdTHKqAfJKn8xSMTtI0NEZmnDXudDBKqaS3hHhk0CCJQGCCJwvBWo7tmvg6/U7cWFcoCiosIEH3xR+sw47UX2iE7g8Zq9ldd1+IEmgm97q8IAQPtBbPcCLyyYPNAbdaWL7FzCis88oa2fklwMnnbFIWe2JRv3gKuC83SdayXZKQDATZn2VF2pg7Q72sNBs+MTgFx1Y14AAAAAWJLR0T9SwmT6QAAAAd0SU1FB+MCDxQvITv9oyUAAANQSURBVDjLbZN5WJRVFMbv98JNhprSCixsUdsstWVEcgxjxkTCBsaFYWbED03DmITBBtAapVSgQiwTTR2pVCqh0txwQXNrQyxaLbXNbLHNbN/fP7rffI3a83T++e7znd9zzj3nvq8Q/4ZmG5A6MO36QfbBuCF9iC1O/DfibYNvzHBQhXMobhqWOTzrZnlK+jRkj7iFdOXkptE9EqOc5OgxeegSy0t48r30+ccWjEvV3YUYP+FWJ70TJyHBzFtwWxE5OfX2xNNRbABnWAN3TCFLCmAx8meiNI3eYBk0IUxA1bROvTPE8gqcpQBUTqN3+l0w4BgguuLusIszZqpzt7OrXLzn3mj+JKCOs2bTPeccKVBdw6JanGtJuu/+B0ygbm49krvDY6d9HsR5D9JXDCmR/tD8h6PA+QvYkAVNJi30cgREmZ2LHkkRGLKYviVmheE6l0YgsKyR5ZUi1cexSJCPPsbQ48tNYMVAXV/ZQ5OoYtMTIswnn1J06So2Z8ME0OLn08+on882cbVYw7RsdMdzXFuIeBOwYJ3btR4XoH4Dp4mNzG/V5IWbOKUFsTFRO5rTrVLbvIUZYiuDF0nZ2saGbSkxIGVmCRdsl/L5iawROxi8WMqdu7h4XPyJCnlFDPaUvRSwUdSwrTUK7C4zW4xUH88wrkZy/J4XaBflbAxA7nyR3pcgUeh8+RVYktp1h8HV7+VS0cGcfZCtr6oHrwDyXpvTCby+l43LFPDGm3xLFPvYroB8pba3sxLVk8ve1X46RqntJ77Dpv1iQAb9ASjAF6L93epI/XsHDtLV0Wl0mMzyQ+KS9+mcADVm2wdOpcoNH+7Q6ftoFpRoPnZxjLHkw8yc+skRhj9d+FlU177c9ZshLsW+3fy8VoGXfRHijENHGbZeHilc+WVH1f7KK6Tog5ZmOr5KUuJH4AhDmxoYvrLbSSNchcjXOoOdhrr6YlIJvQ6G+8UJ7RtP3be9hEjpX7pL56JaRA2WgII1qnX4ak3g2GF7OpKvqfzuOOn3mLI3jFMx280Oa1x01d8Hjv2Q66b7x3kx4whxLX5qb56rjKEA18+Zv+jUj//6G647xZ3S9rvNuPCSkDHooKIDdQma+J9A6R85B7f8+Vfk7xPe/gdCN2wvY+TSJAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOS0wMi0xNVQyMDo0NzozMyswMTowMOnp2+YAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTktMDItMTVUMjA6NDc6MzMrMDE6MDCYtGNaAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC">

    <link href="https://fonts.googleapis.com/css?family=Quicksand" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.4/css/bulma.min.css">
    <link href="/css/main.css" rel="stylesheet">

    <script async defer src="https://buttons.github.io/buttons.js"></script>
    <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>

    <script src="/js/bulma-menu.js"></script>
    <script src="/js/knowledge-base-sidebar.js"></script>
  </head>
  <body>

  <nav class="navbar is-black" role="navigation" aria-label="main navigation">
    <div class="navbar-brand">
      <a class="navbar-item" href="/">
        <img src="/img/pion-logo.svg" width="112" height="28">
      </a>

      <a class="navbar-item is-hidden-desktop" href="https://github.com/pion" target="_blank">
        <span class="icon">
          <i class="fab fa-github"></i>
        </span>
      </a>

      <a class="navbar-item is-hidden-desktop" href="/slack/">
        <span class="icon">
          <i class="fab fa-slack"></i>
        </span>
      </a>

      <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="navbarMenuItems">
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
      </a>
    </div>

    <div id="navbarMenuItems" class="navbar-menu">
      <div class="navbar-start">
      
        
        <a class="navbar-item" href="/knowledge-base/">
          Knowledge Base
        </a>
      
        
        <a class="navbar-item" href="/customers">
          Customers
        </a>
      
        
        <a class="navbar-item" href="/open-source/">
          Open Source
        </a>
      
        
        <a class="navbar-item" href="/blog/">
          Blog
        </a>
      

      </div>
      <div class="navbar-end">
        <div class="navbar-item">
          <div class="buttons is-hidden-touch">
            <a class="navbar-item navbar-item-desktop" href="https://github.com/pion" target="_blank">
              <span class="icon">
                <i class="fab fa-github"></i>
              </span>
            </a>

            <a class="navbar-item navbar-item-desktop" href="/slack/" >
              <span class="icon">
                <i class="fab fa-slack"></i>
              </span>
            </a>
          </div>
        </div>
      </div>
    </div>
  </nav>

  <main>

  <section>
    <div class="columns has-text-centered" style="padding-top: 3em;">
      <div class="column">
        <h1 class="title" style="font-size: 3rem">WebRTC Data Channels in Go</h1>
        <hr class="pion-hr">
      </div>
    </div>
  </section>

  <section>
    <div class="columns" style="padding: 3em;">
      <div class="column">
        

<p>Today we&rsquo;ll walk through setting up a Data Channel connection in <a href="https://golang.org/">Go</a> using <a href="https://github.com/pion/webrtc">pion/webrtc</a>. Check out our knowledge base articles on <a href="/knowledge-base/webrtc/">WebRTC</a> if you&rsquo;re new to it. You can also skip to the <a href="#full-examples">full examples</a> if you just want to look at the code.</p>

<h2 id="preparation">Preparation</h2>

<p>Let&rsquo;s quickly cover how to get started with <a href="https://github.com/pion/webrtc">pion/webrtc</a>. If you&rsquo;re familiar with Go you can skip to the <a href="#peer-connection">next section</a>. To start you can download the library using <code>go get</code>:
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">go get github.com/pion/webrtc</code></pre></div></p>

<p>Next, import the library into your project:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> (
	<span style="color:#e6db74">&#34;github.com/pion/webrtc&#34;</span>
)</code></pre></div>

<h2 id="peer-connection">Peer Connection</h2>

<p>Ok, now let&rsquo;s start setting up the WebRTC connection. To do this we&rsquo;ll create a PeerConnection which is used to represent our connection:
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#75715e">// Prepare the configuration
</span><span style="color:#75715e"></span><span style="color:#a6e22e">config</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">webrtc</span>.<span style="color:#a6e22e">Configuration</span>{
    <span style="color:#a6e22e">ICEServers</span>: []<span style="color:#a6e22e">webrtc</span>.<span style="color:#a6e22e">ICEServer</span>{
        {
            <span style="color:#a6e22e">URLs</span>: []<span style="color:#66d9ef">string</span>{<span style="color:#e6db74">&#34;stun:stun.l.google.com:19302&#34;</span>},
        },
    },
}

<span style="color:#75715e">// Create a new RTCPeerConnection
</span><span style="color:#75715e"></span><span style="color:#a6e22e">peerConnection</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">webrtc</span>.<span style="color:#a6e22e">NewPeerConnection</span>(<span style="color:#a6e22e">config</span>)
<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
    panic(<span style="color:#a6e22e">err</span>) <span style="color:#75715e">// Please handle your errors correctly!
</span><span style="color:#75715e"></span>}</code></pre></div></p>

<p>Note that we provide a <a href="/knowledge-base/webrtc/webrtc-architecture/#stun-server">STUN Server</a> to the configuration to allow the WebRTC connection to punch trough a <a href="/knowledge-base/webrtc/webrtc-intro/#network-address-translation">NAT</a>.</p>

<h2 id="data-channels">Data Channels</h2>

<p>Next we configure the data channels. Here we need to differentiate between two sides of the connection. We&rsquo;ll go into more depth about the two sides of the connection in the next section.</p>

<p>One side of the connection will create the Data Channel:
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#75715e">// Create a datachannel with label &#39;data&#39;
</span><span style="color:#75715e"></span><span style="color:#a6e22e">dataChannel</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">peerConnection</span>.<span style="color:#a6e22e">CreateDataChannel</span>(<span style="color:#e6db74">&#34;data&#34;</span>, <span style="color:#66d9ef">nil</span>)
<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
    panic(<span style="color:#a6e22e">err</span>) <span style="color:#75715e">// Please handle your errors correctly!
</span><span style="color:#75715e"></span>}</code></pre></div></p>

<p>The other side of the connection will receive the incoming Data Channel:
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#75715e">// Register data channel creation handling
</span><span style="color:#75715e"></span><span style="color:#a6e22e">peerConnection</span>.<span style="color:#a6e22e">OnDataChannel</span>(<span style="color:#66d9ef">func</span>(<span style="color:#a6e22e">dataChannel</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">webrtc</span>.<span style="color:#a6e22e">DataChannel</span>) {
    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;New DataChannel %s %d\n&#34;</span>, <span style="color:#a6e22e">dataChannel</span>.<span style="color:#a6e22e">Label</span>, <span style="color:#a6e22e">dataChannel</span>.<span style="color:#a6e22e">ID</span>)

    <span style="color:#75715e">// Handle data channel
</span><span style="color:#75715e"></span>}</code></pre></div></p>

<p>Now we have a Data Channel configured. However, in order to use it we first have to wait for the Data Channel to be opened. To do this we register the <code>OnOpen</code> callback:
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#a6e22e">dataChannel</span>.<span style="color:#a6e22e">OnOpen</span>(<span style="color:#66d9ef">func</span>() {
    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;Data channel &#39;%s&#39;-&#39;%d&#39; open.\n&#34;</span>, <span style="color:#a6e22e">dataChannel</span>.<span style="color:#a6e22e">Label</span>, <span style="color:#a6e22e">dataChannel</span>.<span style="color:#a6e22e">ID</span>)

    <span style="color:#75715e">// Now we can start sending data.
</span><span style="color:#75715e"></span>}</code></pre></div></p>

<p>We also need a way to receive messages from the Data Channel. This is done by registering the <code>OnMessage</code> callback:
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#75715e">// Register text message handling
</span><span style="color:#75715e"></span><span style="color:#a6e22e">d</span>.<span style="color:#a6e22e">OnMessage</span>(<span style="color:#66d9ef">func</span>(<span style="color:#a6e22e">msg</span> <span style="color:#a6e22e">webrtc</span>.<span style="color:#a6e22e">DataChannelMessage</span>) {
    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;Message from DataChannel &#39;%s&#39;: &#39;%s&#39;\n&#34;</span>, <span style="color:#a6e22e">dataChannel</span>.<span style="color:#a6e22e">Label</span>, string(<span style="color:#a6e22e">msg</span>.<span style="color:#a6e22e">Data</span>))

    <span style="color:#75715e">// Handle the message here
</span><span style="color:#75715e"></span>})</code></pre></div></p>

<p>Finally, we can start sending messages on our Data Channel. This is done as follows:
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#75715e">// Send the message as text
</span><span style="color:#75715e"></span><span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">dataChannel</span>.<span style="color:#a6e22e">SendText</span>(<span style="color:#a6e22e">message</span>)
<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
    panic(<span style="color:#a6e22e">err</span>) <span style="color:#75715e">// Please handle your errors correctly!
</span><span style="color:#75715e"></span>}</code></pre></div></p>

<p>Remember, this should only be called after the <code>OnOpen</code> callback is fired. In order to open the Data Channel we have to start the connection first. This is covered in the next section.</p>

<h2 id="signaling">Signaling</h2>

<p>The first step in starting up a WebRTC connection is known as <a href="/knowledge-base/webrtc/webrtc-intro/#signaling">signaling</a>. Here we exchange some data between the peers so they can find each other.</p>

<p>As mentioned before there are two sides in a WebRTC connection. These sides are:</p>

<ul>
<li>The offerer. This side creates an offer. The offer should be sent to the other side.</li>
<li>The answerer: This side receives the offer and uses it to create an answer. This answer is sent back to the offerer in order to conclude the signaling step.</li>
</ul>

<p>In our example the signaling data is exchanged by copy/pasting it to the other side. WebRTC deployments commonly use a <a href="/knowledge-base/webrtc/webrtc-architecture/#signaling-server">Signaling Server</a> to accomplish this task.
<br><br>
Let&rsquo;s look at the offering side first:
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#75715e">// Create an offer to send to the browser
</span><span style="color:#75715e"></span><span style="color:#a6e22e">offer</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">peerConnection</span>.<span style="color:#a6e22e">CreateOffer</span>(<span style="color:#66d9ef">nil</span>)
<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
    panic(<span style="color:#a6e22e">err</span>) <span style="color:#75715e">// Please handle your errors correctly!
</span><span style="color:#75715e"></span>}

<span style="color:#75715e">// Sets the LocalDescription, and starts our UDP listeners
</span><span style="color:#75715e"></span><span style="color:#a6e22e">err</span> = <span style="color:#a6e22e">peerConnection</span>.<span style="color:#a6e22e">SetLocalDescription</span>(<span style="color:#a6e22e">offer</span>)
<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
    panic(<span style="color:#a6e22e">err</span>) <span style="color:#75715e">// Please handle your errors correctly!
</span><span style="color:#75715e"></span>}

<span style="color:#75715e">// Output the offer in base64 so we can paste it in browser
</span><span style="color:#75715e"></span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">signal</span>.<span style="color:#a6e22e">Encode</span>(<span style="color:#a6e22e">offer</span>))

<span style="color:#75715e">// Wait for the answer to be pasted
</span><span style="color:#75715e"></span><span style="color:#a6e22e">answer</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">webrtc</span>.<span style="color:#a6e22e">SessionDescription</span>{}
<span style="color:#a6e22e">signal</span>.<span style="color:#a6e22e">Decode</span>(<span style="color:#a6e22e">signal</span>.<span style="color:#a6e22e">MustReadStdin</span>(), <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">answer</span>)

<span style="color:#75715e">// Apply the answer as the remote description
</span><span style="color:#75715e"></span><span style="color:#a6e22e">err</span> = <span style="color:#a6e22e">peerConnection</span>.<span style="color:#a6e22e">SetRemoteDescription</span>(<span style="color:#a6e22e">answer</span>)
<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
    panic(<span style="color:#a6e22e">err</span>)  <span style="color:#75715e">// Please handle your errors correctly!
</span><span style="color:#75715e"></span>}</code></pre></div></p>

<p>The answering side looks as follows:
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#75715e">// Wait for the offer to be pasted
</span><span style="color:#75715e"></span><span style="color:#a6e22e">offer</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">webrtc</span>.<span style="color:#a6e22e">SessionDescription</span>{}
<span style="color:#a6e22e">signal</span>.<span style="color:#a6e22e">Decode</span>(<span style="color:#a6e22e">signal</span>.<span style="color:#a6e22e">MustReadStdin</span>(), <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">offer</span>)

<span style="color:#75715e">// Set the remote SessionDescription
</span><span style="color:#75715e"></span><span style="color:#a6e22e">err</span> = <span style="color:#a6e22e">peerConnection</span>.<span style="color:#a6e22e">SetRemoteDescription</span>(<span style="color:#a6e22e">offer</span>)
<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
    panic(<span style="color:#a6e22e">err</span>)  <span style="color:#75715e">// Please handle your errors correctly!
</span><span style="color:#75715e"></span>}

<span style="color:#75715e">// Create an answer
</span><span style="color:#75715e"></span><span style="color:#a6e22e">answer</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">peerConnection</span>.<span style="color:#a6e22e">CreateAnswer</span>(<span style="color:#66d9ef">nil</span>)
<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
    panic(<span style="color:#a6e22e">err</span>)  <span style="color:#75715e">// Please handle your errors correctly!
</span><span style="color:#75715e"></span>}

<span style="color:#75715e">// Sets the LocalDescription, and starts our UDP listeners
</span><span style="color:#75715e"></span><span style="color:#a6e22e">err</span> = <span style="color:#a6e22e">peerConnection</span>.<span style="color:#a6e22e">SetLocalDescription</span>(<span style="color:#a6e22e">answer</span>)
<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
    panic(<span style="color:#a6e22e">err</span>)  <span style="color:#75715e">// Please handle your errors correctly!
</span><span style="color:#75715e"></span>}</code></pre></div></p>

<p>And that&rsquo;s it! You now know how to send data over a WebRTC Data Channel in Go.</p>

<h2 id="full-examples">Full examples</h2>

<p>The full examples corresponding covered in this post can be found in the <a href="https://github.com/pion/webrtc">pion/webrtc</a> repository:</p>

<ul>
<li>The <a href="https://github.com/pion/webrtc/tree/master/examples/data-channels-create">data-channels-create</a> example shows the offering side of the connection.</li>
<li>The <a href="https://github.com/pion/webrtc/tree/master/examples/data-channels">data-channels</a> example shows the answering side of the connection.</li>
</ul>

      </div>
    </div>
  </section>
</main>

  </body>
  </html>
